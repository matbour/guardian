(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{371:function(t,e,a){"use strict";a.r(e);var r=a(24),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"guardian"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#guardian"}},[t._v("#")]),t._v(" Guardian")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img.shields.io/github/license/mathieu-bour/guardian?style=flat-square",alt:"GitHub license"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/packagist/v/mathieu-bour/guardian?style=flat-square",alt:"Packagist Version"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/packagist/dt/mathieu-bour/guardian?style=flat-square",alt:"Packagist"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/github/issues/mathieu-bour/guardian?style=flat-square",alt:"GitHub issues"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/github/issues-pr/mathieu-bour/guardian?style=flat-square",alt:"GitHub pull requests"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/codecov/c/gh/mathieu-bour/guardian?style=flat-square",alt:"Codecov"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/scrutinizer/quality/g/mathieu-bour/guardian?style=flat-square",alt:"Scrutinizer code quality"}})]),t._v(" "),a("p",[t._v("Highly configurable JSON Web Token implementation for Laravel and Lumen.")]),t._v(" "),a("p",[t._v("Guardian exposes an additional authentication "),a("code",[t._v("guardian")]),t._v(" driver, which can be used like the standard "),a("code",[t._v("session")]),t._v(" or "),a("code",[t._v("token")]),t._v(" drivers.")]),t._v(" "),a("p",[t._v("Guardian follows the "),a("a",{attrs:{href:"https://semver.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Semantic Versioning specification"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("❗️ "),a("strong",[t._v("The "),a("code",[t._v("master")]),t._v(" branch should not be considered stable prior to the 1.0.0 release.")]),t._v(" ❗️")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#motivations"}},[t._v("Motivations")])]),a("li",[a("a",{attrs:{href:"#acknowledgements"}},[t._v("Acknowledgements")])]),a("li",[a("a",{attrs:{href:"#prerequisites"}},[t._v("Prerequisites")])]),a("li",[a("a",{attrs:{href:"#installation"}},[t._v("Installation")]),a("ul",[a("li",[a("a",{attrs:{href:"#laravel"}},[t._v("Laravel")])]),a("li",[a("a",{attrs:{href:"#lumen"}},[t._v("Lumen")])])])]),a("li",[a("a",{attrs:{href:"#next-steps"}},[t._v("Next steps")])]),a("li",[a("a",{attrs:{href:"#alternatives"}},[t._v("Alternatives")]),a("ul",[a("li",[a("a",{attrs:{href:"#laravel-passport-https-github-com-laravel-passport"}},[t._v("laravel/passport")])]),a("li",[a("a",{attrs:{href:"#tymondesigns-jwt-auth-https-github-com-tymondesigns-jwt-auth"}},[t._v("tymondesigns/jwt-auth")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"motivations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivations"}},[t._v("#")]),t._v(" Motivations")]),t._v(" "),a("p",[t._v("Our company based its back-end on the Lumen Framework and we needed a stateless identification and authentication method.\nWe chose to use the JSON Web Tokens which combines security and ease.\nWhile some libraries exist like "),a("a",{attrs:{href:"https://github.com/tymondesigns/jwt-auth",target:"_blank",rel:"noopener noreferrer"}},[t._v("tymondesigns/jwt-auth"),a("OutboundLink")],1),t._v(" or "),a("a",{attrs:{href:"https://github.com/laravel/passport",target:"_blank",rel:"noopener noreferrer"}},[t._v("laravel/passport"),a("OutboundLink")],1),t._v(", they did not meet our requirements.\nIndeed, we wanted to have control over the cryptographic algorithms of the keys as well as to be able to use several of them.")]),t._v(" "),a("p",[t._v("After careful consideration, we decided to develop our own JWT library for Lumen which was later ported to Laravel and shared open-source.")]),t._v(" "),a("h2",{attrs:{id:"acknowledgements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acknowledgements"}},[t._v("#")]),t._v(" Acknowledgements")]),t._v(" "),a("ul",[a("li",[t._v("Rafhael Cedeno and "),a("a",{attrs:{href:"https://www.linkedin.com/in/laura-bannier/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Laura Bannier"),a("OutboundLink")],1),t._v(" for their English reviews")]),t._v(" "),a("li",[t._v("JWT cryptography implementation by "),a("a",{attrs:{href:"https://github.com/web-token/jwt-framework",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("web-token")]),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Benchmarks ran using "),a("a",{attrs:{href:"https://github.com/phpbench/phpbench",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHPBench"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Documentation generated by "),a("a",{attrs:{href:"https://vuepress.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Tests ran using "),a("a",{attrs:{href:"https://phpunit.de/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHPUnit"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/mockery/mockery",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mockery"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("ul",[a("li",[t._v("PHP >= 7.2")]),t._v(" "),a("li",[t._v("Laravel/Lumen 6 or 7")])]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("p",[t._v("Simply add Guardian to your project dependencies.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" require mathieu-bour/guardian\n")])])]),a("p",[t._v("Depending on the "),a("RouterLink",{attrs:{to:"/reference/configuration.html#key"}},[t._v("algorithm")]),t._v(" you want to use, install the corresponding cryptographic library:")],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Algorithm")]),t._v(" "),a("th",[t._v("Library")]),t._v(" "),a("th",[t._v("Required PHP extensions")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ECDSA")]),t._v(" "),a("td",[a("code",[t._v("web-token/jwt-signature-algorithm-ecdsa")])]),t._v(" "),a("td",[t._v("openssl")])]),t._v(" "),a("tr",[a("td",[t._v("EdDSA")]),t._v(" "),a("td",[a("code",[t._v("web-token/jwt-signature-algorithm-eddsa")])]),t._v(" "),a("td",[t._v("sodium")])]),t._v(" "),a("tr",[a("td",[t._v("HMAC")]),t._v(" "),a("td",[a("code",[t._v("web-token/jwt-signature-algorithm-hmac")])]),t._v(" "),a("td",[t._v("n/a")])]),t._v(" "),a("tr",[a("td",[t._v("RSA")]),t._v(" "),a("td",[a("code",[t._v("web-token/jwt-signature-algorithm-rsa")])]),t._v(" "),a("td",[t._v("openssl, gmp")])])])]),t._v(" "),a("p",[t._v("If you do not know which algorithm to choose, we recommend "),a("code",[t._v("ECDSA")]),t._v(" with the "),a("code",[t._v("ES512")]),t._v(" algorithm and the "),a("code",[t._v("P-521")]),t._v(" curve.")]),t._v(" "),a("h3",{attrs:{id:"laravel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#laravel"}},[t._v("#")]),t._v(" Laravel")]),t._v(" "),a("p",[t._v("Publish the default Guardian configuration:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("php artisan vendor:publish --provider"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Windy\\Guardian\\GuardianServiceProvider"')]),t._v("\n")])])]),a("h3",{attrs:{id:"lumen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lumen"}},[t._v("#")]),t._v(" Lumen")]),t._v(" "),a("p",[t._v("Copy the default Guardian configuration from "),a("code",[t._v("vendor/mathieu-bour/guardian/config/guardian.php")]),t._v(" to "),a("code",[t._v("config/guardian.php")]),t._v(".\nThen, add the provider to your "),a("code",[t._v("bootstrap/app.php")]),t._v(" and load the configuration with:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$app")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'guardian'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$app")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[t._v("Windy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Guardian"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("GuardianServiceProvider")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("If you want to use the "),a("code",[t._v("Guardian")]),t._v(" Facade, ensure that the application is loaded with Facades in your "),a("code",[t._v("bootstrap/app.php")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$app")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withFacades")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"next-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[t._v("#")]),t._v(" Next steps")]),t._v(" "),a("ul",[a("li",[t._v("Learn more about "),a("a",{attrs:{href:"/reference/jwt"}},[t._v("JWT")])]),t._v(" "),a("li",[t._v("Read the "),a("a",{attrs:{href:"/reference/configuration"}},[t._v("configuration")]),t._v(" reference")]),t._v(" "),a("li",[t._v("Read our "),a("a",{attrs:{href:"/case-studies/authentication"}},[t._v("tutorial on users authentication")])])]),t._v(" "),a("h2",{attrs:{id:"alternatives"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alternatives"}},[t._v("#")]),t._v(" Alternatives")]),t._v(" "),a("p",[t._v("Here, we humbly refer to the alternatives to Guardian that we found interesting.")]),t._v(" "),a("h3",{attrs:{id:"laravel-passport"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#laravel-passport"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/laravel/passport",target:"_blank",rel:"noopener noreferrer"}},[t._v("laravel/passport"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Passport is the official Laravel library which supports JWT authentication.")]),t._v(" "),a("blockquote",[a("p",[t._v("Laravel makes API authentication a breeze using Laravel Passport, which provides a full OAuth2 server implementation for your Laravel application in a matter of minutes.")])]),t._v(" "),a("h3",{attrs:{id:"tymondesigns-jwt-auth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tymondesigns-jwt-auth"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/tymondesigns/jwt-auth",target:"_blank",rel:"noopener noreferrer"}},[t._v("tymondesigns/jwt-auth"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("jwt-auth is a worthwhile alternative to Guardian which provides a higher-level API, such as authenticating users directly from the request credentials via a Facade.\njwt-auth also provides a way to blacklist the generated tokens whereas Guardian leaves the implementation to the developer.\nIf you are looking for a simpler way to use JWT, we highly recommend that you take a look to this library!")])])}),[],!1,null,null,null);e.default=s.exports}}]);